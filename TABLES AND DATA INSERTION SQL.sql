CREATE TABLE CRS (
crsID VARCHAR (10) NOT NULL,
CONSTRAINT crc_PK PRIMARY KEY (crsID)
);

INSERT INTO CRS VALUES('C0001'); 
INSERT INTO CRS VALUES('C0002'); 
INSERT INTO CRS VALUES('C0003'); 
INSERT INTO CRS VALUES('C0004'); 
INSERT INTO CRS VALUES('C0005'); 
INSERT INTO CRS VALUES('C0006'); 
INSERT INTO CRS VALUES('C0007'); 
INSERT INTO CRS VALUES('C0008'); 
INSERT INTO CRS VALUES('C0009'); 
INSERT INTO CRS VALUES('C0010'); 

CREATE TABLE CRS_staff(
staffID VARCHAR (10) NOT NULL,
crsID VARCHAR (10) NOT NULL,
password VARCHAR (20) NOT NULL,
first_name VARCHAR (10) NOT NULL,
last_name VARCHAR (10) NOT NULL,
phone VARCHAR (30) NOT NULL,
position VARCHAR (20) NOT NULL,
date_joined DATE NOT NULL,
CONSTRAINT crs_staff_PK PRIMARY KEY (staffID) ,
CONSTRAINT staff_crs_FK FOREIGN KEY (crsID) REFERENCES CRS(crsID) ON DELETE CASCADE
);

INSERT INTO CRS_staff VALUES('S0001','C0001','alfldnle','Barbara','Smith','0167569436','Manager',DATE'2001-05-24');
INSERT INTO CRS_staff VALUES('S0002','C0001','fda3d2f','Mike','Smith','0136458921','Team Leader',DATE'2005-05-24');
INSERT INTO CRS_staff VALUES('S0003','C0002','fd1a3d1','Heily','Kim','0145397561','IT Support',DATE'2009-07-04');
INSERT INTO CRS_staff VALUES('S0004','C0003','aiefsdf54','Sam','Kyaw','0964522310','IT Support',DATE'2003-07-29');
INSERT INTO CRS_staff VALUES('S0005','C0004','fd1a3dfs5','Henry','Brown','0336599325','Manager',DATE'2008-02-24');
INSERT INTO CRS_staff VALUES('S0006','C0005','fdagbf3d','Kathrine','Jang','0117555432','Team Leader',DATE'2007-10-01');
INSERT INTO CRS_staff VALUES('S0007','C0009','yhkgd23','Emy','White','0114558793','IT Support',DATE'2007-06-24');
INSERT INTO CRS_staff VALUES('S0008','C0004','231refsdfs','Alice','Swift','0635598732','Assistant',DATE'2013-06-24');
INSERT INTO CRS_staff VALUES('S0009','C0006','fdad1fs321','Joel','Ng','0145578302','Assistant',DATE'2011-05-24');
INSERT INTO CRS_staff VALUES('S0010','C0007','kyfdhd23','Sara','Lee','0123697589','Assistant',DATE'2019-08-24');


CREATE TABLE Volunteer (
volunteerID VARCHAR (10) NOT NULL,
crsID VARCHAR (10) NOT NULL,
password VARCHAR (20) NOT NULL,
first_name VARCHAR (10) NOT NULL,
last_name VARCHAR (10) NOT NULL,
phone VARCHAR (30) NOT NULL,
CONSTRAINT volunteer_PK PRIMARY KEY (volunteerID),
CONSTRAINT vol_crs_FK FOREIGN KEY (crsID) REFERENCES CRS(crsID) ON DELETE CASCADE
);

INSERT INTO VOLUNTEER VALUES('V0001','C0003','dtver','Selly','Smith','0132225684');
INSERT INTO VOLUNTEER VALUES('V0002','C0008','dfa3fd','Bily','Mark','0132666975');
INSERT INTO VOLUNTEER VALUES('V0003','C0003','Q3WRD','Sheirley','Park','0145574632');
INSERT INTO VOLUNTEER VALUES('V0004','C0004','fhswts','Bella','Goth','0133458552');
INSERT INTO VOLUNTEER VALUES('V0005','C0009','fhgvj3455','Johnson','Baby','1035569754');
INSERT INTO VOLUNTEER VALUES('V0006','C0005','agrja3gr','Oliver','Taylor','0.15665412');
INSERT INTO VOLUNTEER VALUES('V0007','C0004','fkdtsfadsef','Jack','Wilson','0114457360');
INSERT INTO VOLUNTEER VALUES('V0008','C0001','garau4567','Jacob','Evans','0102554785');
INSERT INTO VOLUNTEER VALUES('V0009','C0002','razhf34','William','Thomas','0123456789');
INSERT INTO VOLUNTEER VALUES('V0010','C0004','srz86t4','Oscar','Roberts','0198745632');


CREATE TABLE Trip (
tripID VARCHAR (20) NOT NULL,
staffID VARCHAR (20) NOT NULL,
crsID VARCHAR (10) NOT NULL,
trip_date DATE NOT NULL,
destination VARCHAR (20) NOT NULL,
crisis_type VARCHAR (20) NOT NULL,
req_vol NUMBER(5) NOT NULL,
emergency_phone VARCHAR (20) NOT NULL,
CONSTRAINT trip_PK PRIMARY KEY (tripID),
CONSTRAINT trip_staff_FK FOREIGN KEY (staffID) REFERENCES CRS_staff(staffID) ON DELETE CASCADE,
CONSTRAINT trip_crs_FK FOREIGN KEY (crsID) REFERENCES CRS(crsID) ON DELETE CASCADE
);

INSERT INTO TRIP VALUES ('T0001','S0001','C0001',DATE'2021-03-01','Korea','FLOOD','50','0111234567');
INSERT INTO TRIP VALUES ('T0002','S0001','C0002',DATE'2021-05-01','Japan','EARTHQUAKE','100','0123548320');
INSERT INTO TRIP VALUES ('T0004','S0008','C0009',DATE'2021-06-06','Colombia','EARTHQUAKE','50','01122469532');
INSERT INTO TRIP VALUES ('T0005','S0003','C0008',DATE'2021-04-08','Comoros','Tsunamis','150','0235645393');
INSERT INTO TRIP VALUES ('T0006','S0005','C0004',DATE'2021-03-01','Congo','FLOOD','50','0132655952');
INSERT INTO TRIP VALUES ('T0007','S0009','C0007',DATE'2021-03-06','Malaysia','FLOOD','50','1023544585');
INSERT INTO TRIP VALUES ('T0008','S0010','C0006',DATE'2021-03-21','Africa','EARTHQUAKE','150','82645596531');
INSERT INTO TRIP VALUES ('T0009','S0004','C0006',DATE'2021-03-11','Mali','FLOOD','50','6015548963');
INSERT INTO TRIP VALUES ('T0010','S0002','C0010',DATE'2021-04-01','Mozambique','EARTHQUAKE','100','1025568632');
INSERT INTO TRIP VALUES ('T0003','S0002','C0005',DATE'2020-05-04','Australia','WILDFIRE','100','0225675563');

CREATE TABLE Document(
docID VARCHAR (20) NOT NULL,
volunteerID VARCHAR (10) NOT NULL,
doc_type VARCHAR (15) NOT NULL,
expiry_date DATE,
image VARCHAR (30) NOT NULL,
CONSTRAINT doc_PK PRIMARY KEY (docID),
CONSTRAINT doc_vol_FK FOREIGN KEY (volunteerID) REFERENCES VOLUNTEER (volunteerID) ON DELETE CASCADE,
CONSTRAINT doctype_check CHECK (doc_type IN ('PASSPORT','CERTIFICATE', 'VISA'))
);

INSERT INTO Document VALUES 
('D0001', 'V0002', 'PASSPORT', DATE'2025-07-04', 'THIS IS A PASSPORT');
INSERT INTO Document VALUES
('D0002', 'V0002', 'CERTIFICATE', NULL, 'SWIMMING CERTIFICATE');
INSERT INTO Document VALUES
('D0003', 'V0001', 'PASSPORT', DATE'2026-08-04', 'THIS IS ANOTHER PASSPORT');
INSERT INTO Document VALUES
('D0004', 'V0001', 'VISA', NULL, 'VISITOR VISA FOR THAILAND');
INSERT INTO Document VALUES
('D0005', 'V0005', 'PASSPORT', DATE'2024-08-06', 'A RED PASSPORT');
INSERT INTO Document VALUES
('D0006', 'V0005', 'CERTIFICATE', NULL, 'CERTIFICATE IN SOCIAL SERVICES');
INSERT INTO Document VALUES
('D0007', 'V0007', 'PASSPORT', DATE'2024-08-14', 'A GREEN PASSPORT');
INSERT INTO Document VALUES
('D0008', 'V0007', 'VISA', NULL, 'VISITOR VISA FOR GAMBIA');
INSERT INTO Document VALUES
('D0009', 'V0004', 'PASSPORT', DATE'2022-10-04', 'THIS IS ALSO ANOTHER PASSPORT');
INSERT INTO Document VALUES
('D0010', 'V0004', 'CERTIFICATE', NULL, 'ACROBATICS CERTIFICATE');

CREATE TABLE Application (
applicationID VARCHAR (20) NOT NULL,
volunteerID VARCHAR (10) NOT NULL,
staffID VARCHAR (10) NOT NULL,
tripID VARCHAR (20) NOT NULL,
application_date DATE NOT NULL,
status VARCHAR (20) NOT NULL,
remarks VARCHAR (50),
CONSTRAINT app_PK PRIMARY KEY (applicationID),
CONSTRAINT app_vol_FK FOREIGN KEY (volunteerID) REFERENCES VOLUNTEER (volunteerID) ON DELETE CASCADE,
CONSTRAINT app_staff_FK FOREIGN KEY (staffID) REFERENCES CRS_staff(staffID) ON DELETE CASCADE,
CONSTRAINT app_trip_FK FOREIGN KEY (tripID) REFERENCES TRIP(tripID) ON DELETE CASCADE,
CONSTRAINT status_check CHECK (status IN('NEW', 'APPROVED', 'REJECTED'))
);

INSERT INTO Application VALUES 
('A0001', 'V0002', 'S0001', 'T0001', DATE'2021-1-3','NEW', NULL);
INSERT INTO Application VALUES 
('A0002', 'V0002', 'S0003', 'T0002', DATE'2021-1-3','REJECTED', 'Not eligible');
INSERT INTO Application VALUES 
('A0003', 'V0001', 'S0004', 'T0003', DATE'2021-1-13','NEW', NULL);
INSERT INTO Application VALUES 
('A0004', 'V0003', 'S0005', 'T0001', DATE'2021-1-6','APPROVED', 'Welcome on board!');
INSERT INTO Application VALUES 
('A0005', 'V0004', 'S0002', 'T0005', DATE'2021-1-18','NEW', NULL);
INSERT INTO Application VALUES 
('A0006', 'V0008', 'S0005', 'T0006', DATE'2021-1-23','APPROVED', 'Hope to see you soon!');
INSERT INTO Application VALUES 
('A0007', 'V0007', 'S0004', 'T0001', DATE'2021-1-7','NEW', NULL);
INSERT INTO Application VALUES 
('A0008', 'V0004', 'S0008', 'T0002', DATE'2021-1-19','REJECTED', 'Not enough supporting documents');
INSERT INTO Application VALUES 
('A0009', 'V0005', 'S0006', 'T0009', DATE'2021-1-18','NEW', NULL);
INSERT INTO Application VALUES 
('A0010', 'V0007', 'S0005', 'T0002', DATE'2021-1-7','NEW', NULL);

CREATE TABLE Submission_Record (
docID VARCHAR (20) NOT NULL,
applicationID VARCHAR (20) NOT NULL,
CONSTRAINT sub_rec_PK PRIMARY KEY (docID, applicationID),
CONSTRAINT sub_doc_FK FOREIGN KEY (docID) REFERENCES DOCUMENT (docID) ON DELETE CASCADE,
CONSTRAINT sub_app_FK FOREIGN KEY (applicationID) REFERENCES APPLICATION (applicationID) ON DELETE CASCADE
);

INSERT INTO Submission_Record VALUES 
('D0001','A0010');

INSERT INTO Submission_Record VALUES 
('D0002','A0009');

INSERT INTO Submission_Record VALUES 
('D0003','A0008');

INSERT INTO Submission_Record VALUES 
('D0004','A0007');

INSERT INTO Submission_Record VALUES 
('D0005','A0006');

INSERT INTO Submission_Record VALUES 
('D0006','A0005');

INSERT INTO Submission_Record VALUES 
('D0007','A0004');

INSERT INTO Submission_Record VALUES 
('D0008','A0003');

INSERT INTO Submission_Record VALUES 
('D0009','A0002');

INSERT INTO Submission_Record VALUES 
('D0010','A0001');